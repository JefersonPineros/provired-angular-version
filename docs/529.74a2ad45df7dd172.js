"use strict";(self.webpackChunkprovired_angular_version=self.webpackChunkprovired_angular_version||[]).push([[529],{8529:(le,g,c)=>{c.r(g),c.d(g,{AudienciaModule:()=>de});var h=c(6895),f=c(9965),u=c(433),p=c(5439),C=c(2051);class A{constructor(r,t,o){this.username=r,this.fi=t,this.ff=o}}var T=c(4739),M=c(2276),l=c(3825),b=c(2340),e=c(8256),Z=c(3894),w=c(9721),v=c(4356),m=c(334),_=c(805),D=c(1747),y=c(8282),H=c(9385),N=c(3249),J=c(8341),E=c(4021),I=c(7408),R=c(3335),x=c(2453);function G(i,r){1&i&&(e.TgZ(0,"div",13)(1,"div",14)(2,"h4",15),e._uU(3,"Servicios"),e.qZA()()())}const F=function(){return{label:"Autorizaciones",icon:"pi pi-fw pi-clone",routerLink:"/provired/home-provired/home/documentos/autorizaciones"}},Q=function(){return{label:"Nuevos procesos",icon:"pi pi-fw pi-clone",routerLink:"/provired/home-provired/home/procesos"}},Y=function(i,r){return[i,r]};function B(i,r){1&i&&(e.TgZ(0,"div",16)(1,"div",1)(2,"div",16),e._UZ(3,"app-side-menu",17),e.qZA()()()),2&i&&(e.xp6(3),e.Q6J("itemsMenu",e.WLB(3,Y,e.DdM(1,F),e.DdM(2,Q))))}function S(i,r){1&i&&(e.TgZ(0,"div",13)(1,"div",14)(2,"h4",15),e._uU(3," Consultar mis audiencias y vencimientos "),e.qZA()()())}function q(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",18)(1,"div",19)(2,"app-date-picker",20),e.NdJ("modelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.fechaDesde=n)})("modelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.modelChange(n,"fi"))}),e.qZA()(),e.TgZ(3,"div",19)(4,"app-date-picker",21),e.NdJ("modelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.fechaHasta=n)})("modelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.modelChange(n,"ff"))}),e.qZA()(),e.TgZ(5,"div",1)(6,"div")(7,"app-button-component",22),e.NdJ("eventEmiter",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.consultarAudiencia())}),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("model",t.fechaDesde)("grupo",t.formConsultar)("showIcon",!0)("buttonBar",!0)("requerido",!0),e.xp6(2),e.Q6J("model",t.fechaHasta)("grupo",t.formConsultar)("showIcon",!0)("buttonBar",!0)("requerido",!0)}}function z(i,r){1&i&&(e.TgZ(0,"div",13)(1,"div",14)(2,"h4",15),e._uU(3," Listado de audienciencias y vencimientos "),e.qZA()()())}function O(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",18)(1,"div",26)(2,"app-button-component",27),e.NdJ("eventEmiter",function(){const a=e.CHM(t).elemento,s=e.oxw(3);return e.KtG(s.eliminarRegistro(a))}),e.qZA()(),e.TgZ(3,"div",26)(4,"app-button-component",28),e.NdJ("eventEmiter",function(){const a=e.CHM(t).elemento,s=e.oxw(3);return e.KtG(s.openRegistro(a))}),e.qZA()()()}2&i&&(e.xp6(2),e.Q6J("icon",!0)("showTooltip",!0),e.xp6(2),e.Q6J("icon",!0)("showTooltip",!0))}const P=function(){return{field:"name_ciudad",header:"Cidad"}},U=function(){return{field:"name_despacho",header:"Despacho"}},L=function(){return{field:"radicacion",header:"Radicaci\xf3n"}},$=function(){return{field:"proceso",header:"Proceso"}},j=function(){return{field:"demandante",header:"Demandante"}},V=function(){return{field:"demandado",header:"Demandado"}},X=function(){return{field:"descripcion_vence_terminos",header:"Descripci\xf3n del vencimiento"}},W=function(){return{field:"fecha_vence_terminos",header:"Fecha",isFecha:!0}},k=function(i,r,t,o,n,a,s,se){return[i,r,t,o,n,a,s,se]};function ee(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",0)(1,"div",2)(2,"app-button-component",23),e.NdJ("eventEmiter",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.downloadReport())}),e.qZA()()(),e.TgZ(3,"div",0)(4,"div",1)(5,"app-tabla-component",24),e.YNc(6,O,5,4,"ng-template",25),e.qZA()()()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("icon",!0)("showTooltip",!0),e.xp6(3),e.Q6J("cols",e.qlk(16,k,e.DdM(8,P),e.DdM(9,U),e.DdM(10,L),e.DdM(11,$),e.DdM(12,j),e.DdM(13,V),e.DdM(14,X),e.DdM(15,W)))("data",t.listAudiencias)("fixStyleTable",!0)("stripedTable",!0)("actionsShow",!0)("paginador",!0)}}function te(i,r){1&i&&(e.TgZ(0,"div",1)(1,"app-card-component"),e.YNc(2,z,4,0,"ng-template",3),e.YNc(3,ee,7,25,"ng-template",4),e.qZA()())}function ne(i,r){1&i&&(e.TgZ(0,"h4"),e._uU(1,"EDITAR VENCIMIENTO / CAMBIAR PROGRAMACION AUDIENCIA"),e.qZA())}function oe(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",0)(1,"div",29)(2,"input-text",30),e.NdJ("modelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.audiencia.name_ciudad=n)})("grupo",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.formAudiencia)}),e.qZA()(),e.TgZ(3,"div",29)(4,"input-text",31),e.NdJ("modelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.audiencia.name_despacho=n)})("grupo",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.formAudiencia)}),e.qZA()()(),e.TgZ(5,"div",0)(6,"div",29)(7,"input-text",32),e.NdJ("modelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.audiencia.radicacion=n)})("grupo",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.formAudiencia)}),e.qZA()(),e.TgZ(8,"div",29)(9,"input-text",33),e.NdJ("modelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.audiencia.proceso=n)})("grupo",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.formAudiencia)}),e.qZA()()(),e.TgZ(10,"div",0)(11,"div",29)(12,"app-text-area",34),e.NdJ("modelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.audiencia.demandante=n)}),e.qZA()(),e.TgZ(13,"div",29)(14,"app-text-area",35),e.NdJ("modelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.audiencia.demandado=n)}),e.qZA()()(),e.TgZ(15,"div",0)(16,"div",1)(17,"app-text-area",36),e.NdJ("modelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.audiencia.descripcion_vence_terminos=n)}),e.qZA()()(),e.TgZ(18,"div",18)(19,"div",37)(20,"app-date-picker",38),e.NdJ("modelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.audiencia.fecha_vence_terminos=n)})("modelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.modelChange(n,"fi"))}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("model",t.audiencia.name_ciudad)("requerido",!0)("placeHolderActive",!1)("disabledInputText",!0),e.xp6(2),e.Q6J("model",t.audiencia.name_despacho)("requerido",!0)("placeHolderActive",!1)("disabledInputText",!0),e.xp6(3),e.Q6J("model",t.audiencia.radicacion)("requerido",!0)("placeHolderActive",!1)("disabledInputText",!0),e.xp6(2),e.Q6J("model",t.audiencia.proceso)("requerido",!0)("placeHolderActive",!1)("disabledInputText",!0),e.xp6(3),e.Q6J("model",t.audiencia.demandante)("grupo",t.formAudiencia)("disabled",!0),e.xp6(2),e.Q6J("model",t.audiencia.demandado)("grupo",t.formAudiencia)("disabled",!0),e.xp6(3),e.Q6J("model",t.audiencia.descripcion_vence_terminos)("grupo",t.formAudiencia),e.xp6(3),e.Q6J("model",t.audiencia.fecha_vence_terminos)("grupo",t.formAudiencia)("showIcon",!0)("buttonBar",!0)("requerido",!0)}}function ie(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"app-button-component",39),e.NdJ("eventEmiter",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.cancelarModal())}),e.qZA(),e.TgZ(1,"app-button-component",40),e.NdJ("eventEmiter",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.actualizarRegistro())}),e.qZA()}}const ae=[{path:"audiencia",component:(()=>{class i{constructor(t,o,n,a,s){this.breadCrumService=t,this.sessionService=o,this.audiencias=n,this.spinner=a,this.message=s,this.formConsultar=new u.cw({}),this.consultarAud=new A,this.sesion=new M.U,this.listAudiencias=new Array,this.visibleModal=!1,this.formAudiencia=new u.cw({}),this.audiencia=new C.N,this.filterReport=new T.w,this.urlFinal="",this.sesion=this.sessionService.getSession()}ngOnInit(){this.breadCrumService.setItems([{label:"Mis audienciencias y vencimientos"}])}modelChange(t,o){"fi"==o?this.consultarAud.fi=p(this.fechaDesde).format("yyyy-MM-DD"):this.consultarAud.ff=p(this.fechaHasta).format("yyyy-MM-DD")}consultarAudiencia(){this.spinner.show(),this.consultarAud.username=this.sesion.user,this.audiencias.getListAudiencias(this.consultarAud).subscribe({next:t=>{if(this.spinner.hide(),t.length>0)this.listAudiencias=t;else{this.listAudiencias=[];let o=new l.M("warn","No hay registros","No se encontraron resultado en las fechas se\xf1aladas");this.message.add(o)}},error:t=>{this.spinner.hide(),console.log(t)}})}eliminarRegistro(t){this.spinner.show(),this.audiencias.deleteAudiencia({username:t.username,id_vencimiento:t.id_vencimiento}).subscribe({next:o=>{this.spinner.hide(),console.log(o);let n=new l.M("success","Exito!","Se ha realizado la accion de manera exitosa.");this.consultarAudiencia(),this.message.add(n)},error:o=>{console.log(o),this.spinner.hide();let n=new l.M("error",`Error ${o.error.status} `,`${o.error.msg}`);this.message.add(n)}})}openRegistro(t){this.audiencia=t,this.visibleModal=!0}actualizarRegistro(){this.spinner.show();let t={username:"",fecha_vence_terminos:new Date,id_vencimiento:0,descripcion_vence_terminos:""};t.username=this.audiencia.username,t.fecha_vence_terminos=p(this.audiencia.fecha_vence_terminos).toDate(),t.id_vencimiento=this.audiencia.id_vencimiento,t.descripcion_vence_terminos=this.audiencia.descripcion_vence_terminos,this.audiencias.updateAudiencia(t).subscribe({next:o=>{this.spinner.hide();let n=new l.M("success","Exito!",`${o.msg}`);this.message.add(n),this.consultarAudiencia(),this.visibleModal=!1},error:o=>{this.spinner.hide();let n=new l.M("error",`Error ${o.error.status}`,`${o.error.msg}`);this.message.add(n)}})}cancelarModal(){this.visibleModal=!1}downloadReport(){this.spinner.show();let t=this.sessionService.getStorage("user","json");this.filterReport.username=t.data.username,this.filterReport.fi=p(this.fechaDesde).format("yyyy-MM-DD"),this.filterReport.ff=p(this.fechaHasta).format("yyyy-MM-DD"),this.filterReport.name_user=t.data.nombre,this.filterReport.name_file="Reporte_Audiencias",this.audiencias.downloadReport(this.filterReport).subscribe({next:o=>{if(200==o.status)this.urlFinal=b.N.apiBaseDocs+"/"+o.nameFile,this.spinner.hide(),window.open(this.urlFinal,"_blank");else{let n=new l.M("error",`Error ${o.status}`,`${o.msg}`);this.message.add(n)}},error:o=>{console.log(o),this.spinner.hide()}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Z.p),e.Y36(w.u),e.Y36(v.Q),e.Y36(m.t2),e.Y36(_.ez))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-audiencia"]],decls:21,vars:3,consts:[[1,"grid"],[1,"col-12"],[1,"col-3"],["pTemplate","header"],["pTemplate","content"],[1,"col-9"],[1,"grid","p-fluit","mt-2"],["class","col-12",4,"ngIf"],[3,"visible","closeModal"],["pTemplate","title"],["pTemplate","footer"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"fullScreen"],[2,"color","white"],[1,"flex","flex-column-reverse"],[1,"flex","align-items-center","justify-content-center","mt-2"],[1,"title-color"],[1,"grid","p-fluid"],[1,"col-12","mt-2",3,"itemsMenu"],[1,"grid","p-fluit"],[1,"col-12","xl:col-6","md:col-6"],["nombre","fechaDesde","placeholder","DD/MM/YY","label","Fecha desde: ",3,"model","grupo","showIcon","buttonBar","requerido","modelChange"],["nombre","fechaHasta","placeholder","DD/MM/YY","label","Fecha hasta:",3,"model","grupo","showIcon","buttonBar","requerido","modelChange"],["nameButton","Consultar",3,"eventEmiter"],["nameButton","Generar a excel reporte notificaciones","messageTooltip","Detalle","iconClass","pi pi-file-excel","clase","p-button-rounded p-button-success p-button-outlined",3,"icon","showTooltip","eventEmiter"],["idElement","id_vencimiento",3,"cols","data","fixStyleTable","stripedTable","actionsShow","paginador"],["pTemplate","actions"],[1,"col-6"],["messageTooltip","Eliminar registro","iconClass","pi pi-times","clase","p-button-rounded p-button-danger p-button-text",3,"icon","showTooltip","eventEmiter"],["messageTooltip","Actualizar registro","iconClass","pi pi-file-edit","clase","p-button-rounded p-button-text",3,"icon","showTooltip","eventEmiter"],[1,"col-12","lg:col-6","xl:col-6"],["placeHolder","Ciudad","styleInput","help-text",3,"model","requerido","placeHolderActive","disabledInputText","modelChange","grupo"],["placeHolder","Despacho","styleInput","help-text",3,"model","requerido","placeHolderActive","disabledInputText","modelChange","grupo"],["placeHolder","Radicaci\xf3n","styleInput","help-text",3,"model","requerido","placeHolderActive","disabledInputText","modelChange","grupo"],["placeHolder","Proceso","styleInput","help-text",3,"model","requerido","placeHolderActive","disabledInputText","modelChange","grupo"],["placeholder","Demandante",3,"model","grupo","disabled","modelChange"],["placeholder","Demandado",3,"model","grupo","disabled","modelChange"],["placeholder","Detalle audiencia vencimiento",3,"model","grupo","modelChange"],[1,"col-12","sm:col-6","lg:col-6","xl:col-6"],["nombre","fechaDesde","placeholder","yyyy-MM-dd","label","Fecha audiencia / Vencimiento ","format","yy-mm-dd",3,"model","grupo","showIcon","buttonBar","requerido","modelChange"],["nameButton","Cancelar","clase","p-button-outlined p-button-danger",3,"eventEmiter"],["nameButton","Actualizar registro","clase","p-button-outlined p-button-success",3,"eventEmiter"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",0)(3,"div",2)(4,"app-card-component"),e.YNc(5,G,4,0,"ng-template",3),e.YNc(6,B,4,6,"ng-template",4),e.qZA()(),e.TgZ(7,"div",5)(8,"app-card-component"),e.YNc(9,S,4,0,"ng-template",3),e.YNc(10,q,8,10,"ng-template",4),e.qZA()()(),e.TgZ(11,"div",6),e.YNc(12,te,4,0,"div",7),e.qZA()()(),e.TgZ(13,"modal-component",8),e.NdJ("closeModal",function(){return o.visibleModal=!1}),e.YNc(14,ne,2,0,"ng-template",9),e.YNc(15,oe,21,29,"ng-template",4),e.YNc(16,ie,2,0,"ng-template",10),e.qZA(),e._UZ(17,"p-toast"),e.TgZ(18,"ngx-spinner",11)(19,"p",12),e._uU(20,"Loading..."),e.qZA()()),2&t&&(e.xp6(12),e.Q6J("ngIf",o.listAudiencias.length>0),e.xp6(1),e.Q6J("visible",o.visibleModal),e.xp6(5),e.Q6J("fullScreen",!0))},dependencies:[h.O5,D.D,_.jx,y.L,H.u,N.G,J.N,E.w,I.U,R.V,x.FN,m.Ro],styles:[".title-color[_ngcontent-%COMP%]{color:#6d84a3}.icon-download[_ngcontent-%COMP%]{text-align:center}.icon-download[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.icon-download[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#4baaf5;font-size:100px}"]}),i})()}];let ce=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[f.Bz.forChild(ae),f.Bz]}),i})();var d=c(3485),re=c(3228);let de=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[v.Q,_.ez],imports:[h.ez,u.u5,u.UX,ce,d.GX,re.I,d.aK,d.kP,d.kt,d.a6,d.UP,d.ax,x.EV,m.ef]}),i})()}}]);