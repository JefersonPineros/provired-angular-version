"use strict";(self.webpackChunkprovired_angular_version=self.webpackChunkprovired_angular_version||[]).push([[808],{1808:(ne,C,a)=>{a.r(C),a.d(C,{RecuperarContrasenaModule:()=>te});var l=a(6895),w=a(529),p=a(9965),k=a(3752),d=a(3825);class A{constructor(s,t,r,o,i){this.user=s,this.newPassword=t,this.newPasswordConfirm=r,this.token=o,this.captcha=i}}var e=a(8256),g=a(334),v=a(805),h=a(8262),b=a(1747),M=a(4021),Z=a(9385),f=a(3608);function I(n,s){if(1&n&&(e.TgZ(0,"span",11),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.label)}}function S(n,s){if(1&n&&e._UZ(0,"span",12),2&n){const t=e.oxw(2).$implicit;e.Q6J("innerHTML",t.label,e.oJD)}}const J=function(){return{exact:!1}};function U(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",7),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw(),c=i.$implicit,m=i.index,u=e.oxw();return e.KtG(u.itemClick(o,c,m))})("keydown.enter",function(o){e.CHM(t);const i=e.oxw(),c=i.$implicit,m=i.index,u=e.oxw();return e.KtG(u.itemClick(o,c,m))}),e.TgZ(1,"span",8),e._uU(2),e.qZA(),e.YNc(3,I,2,1,"span",9),e.YNc(4,S,1,1,"ng-template",null,10,e.W1O),e.qZA()}if(2&n){const t=e.MAs(5),r=e.oxw(),o=r.$implicit,i=r.index,c=e.oxw();e.Q6J("routerLink",o.routerLink)("queryParams",o.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",o.routerLinkActiveOptions||e.DdM(16,J))("target",o.target)("fragment",o.fragment)("queryParamsHandling",o.queryParamsHandling)("preserveFragment",o.preserveFragment)("skipLocationChange",o.skipLocationChange)("replaceUrl",o.replaceUrl)("state",o.state),e.uIk("id",o.id)("tabindex",o.disabled||c.readonly?null:o.tabindex?o.tabindex:"0"),e.xp6(2),e.Oqu(i+1),e.xp6(1),e.Q6J("ngIf",!1!==o.escape)("ngIfElse",t)}}function R(n,s){if(1&n&&(e.TgZ(0,"span",11),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.label)}}function N(n,s){if(1&n&&e._UZ(0,"span",12),2&n){const t=e.oxw(2).$implicit;e.Q6J("innerHTML",t.label,e.oJD)}}function L(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",13),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw(),c=i.$implicit,m=i.index,u=e.oxw();return e.KtG(u.itemClick(o,c,m))})("keydown.enter",function(o){e.CHM(t);const i=e.oxw(),c=i.$implicit,m=i.index,u=e.oxw();return e.KtG(u.itemClick(o,c,m))}),e.TgZ(1,"span",8),e._uU(2),e.qZA(),e.YNc(3,R,2,1,"span",9),e.YNc(4,N,1,1,"ng-template",null,14,e.W1O),e.qZA()}if(2&n){const t=e.MAs(5),r=e.oxw(),o=r.$implicit,i=r.index,c=e.oxw();e.Q6J("target",o.target),e.uIk("href",o.url,e.LSH)("id",o.id)("tabindex",o.disabled||i!==c.activeIndex&&c.readonly?null:o.tabindex?o.tabindex:"0"),e.xp6(2),e.Oqu(i+1),e.xp6(1),e.Q6J("ngIf",!1!==o.escape)("ngIfElse",t)}}const F=function(n,s){return{"p-highlight p-steps-current":n,"p-disabled":s}};function H(n,s){if(1&n&&(e.TgZ(0,"li",3,4),e.YNc(2,U,6,17,"a",5),e.YNc(3,L,6,7,"ng-template",null,6,e.W1O),e.qZA()),2&n){const t=s.$implicit,r=s.index,o=e.MAs(4),i=e.oxw();e.Tol(t.styleClass),e.Q6J("ngStyle",t.style)("tooltipOptions",t.tooltipOptions)("ngClass",e.WLB(9,F,i.isActive(t,r),t.disabled||i.readonly&&!i.isActive(t,r))),e.uIk("aria-selected",r===i.activeIndex)("aria-expanded",r===i.activeIndex),e.xp6(2),e.Q6J("ngIf",i.isClickableRouterLink(t))("ngIfElse",o)}}const E=function(n){return{"p-steps p-component":!0,"p-readonly":n}};let O=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.cd=o,this.activeIndex=0,this.readonly=!0,this.activeIndexChange=new e.vpe}ngOnInit(){this.subscription=this.router.events.subscribe(()=>this.cd.markForCheck())}itemClick(t,r,o){this.readonly||r.disabled?t.preventDefault():(this.activeIndexChange.emit(o),!r.url&&!r.routerLink&&t.preventDefault(),r.command&&r.command({originalEvent:t,item:r,index:o}))}isClickableRouterLink(t){return t.routerLink&&!this.readonly&&!t.disabled}isActive(t,r){if(t.routerLink){let o=Array.isArray(t.routerLink)?t.routerLink:[t.routerLink];return this.router.isActive(this.router.createUrlTree(o,{relativeTo:this.route}).toString(),!1)}return r===this.activeIndex}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.F0),e.Y36(p.gz),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-steps"]],hostAttrs:[1,"p-element"],inputs:{activeIndex:"activeIndex",model:"model",readonly:"readonly",style:"style",styleClass:"styleClass"},outputs:{activeIndexChange:"activeIndexChange"},decls:3,vars:7,consts:[[3,"ngClass","ngStyle"],["role","tablist"],["class","p-steps-item","role","tab","pTooltip","",3,"ngStyle","class","tooltipOptions","ngClass",4,"ngFor","ngForOf"],["role","tab","pTooltip","",1,"p-steps-item",3,"ngStyle","tooltipOptions","ngClass"],["menuitem",""],["role","presentation","class","p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","keydown.enter",4,"ngIf","ngIfElse"],["elseBlock",""],["role","presentation",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","keydown.enter"],[1,"p-steps-number"],["class","p-steps-title",4,"ngIf","ngIfElse"],["htmlLabel",""],[1,"p-steps-title"],[1,"p-steps-title",3,"innerHTML"],["role","presentation",1,"p-menuitem-link",3,"target","click","keydown.enter"],["htmlRouteLabel",""]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"ul",1),e.YNc(2,H,5,12,"li",2),e.qZA()()),2&t&&(e.Tol(r.styleClass),e.Q6J("ngClass",e.VKq(5,E,r.readonly))("ngStyle",r.style),e.xp6(2),e.Q6J("ngForOf",r.model))},dependencies:[l.mk,l.sg,l.O5,l.PC,p.rH,p.Od,f.u],styles:[".p-steps{position:relative}.p-steps ul{padding:0;margin:0;list-style-type:none;display:flex}.p-steps-item{position:relative;display:flex;justify-content:center;flex:1 1 auto}.p-steps-item .p-menuitem-link{display:inline-flex;flex-direction:column;align-items:center;overflow:hidden;text-decoration:none}.p-steps.p-steps-readonly .p-steps-item{cursor:auto}.p-steps-item.p-steps-current .p-menuitem-link{cursor:default}.p-steps-title{white-space:nowrap}.p-steps-number{display:flex;align-items:center;justify-content:center}.p-steps-title{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez,p.Bz,f.z,p.Bz,f.z]}),n})(),j=(()=>{class n{constructor(){this.activeIndex=0,this.readonly=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-steps-component"]],inputs:{items:"items",activeIndex:"activeIndex",readonly:"readonly"},decls:4,vars:3,consts:[[1,"grid"],[1,"col-12"],[1,"card"],[3,"model","activeIndex","readonly"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"p-steps",3),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("model",r.items)("activeIndex",r.activeIndex)("readonly",r.readonly))},dependencies:[O]}),n})();var K=a(286),y=a(2453),x=a(4700);function q(n,s){1&n&&(e.TgZ(0,"div",9)(1,"h2"),e._uU(2,"Recuperaci\xf3n de contrase\xf1a."),e.qZA()())}function Q(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",16)(3,"div",1)(4,"input-text",17),e.NdJ("modelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.objectUpdate.user=o)}),e.qZA()()(),e.TgZ(5,"div",0)(6,"div",18)(7,"app-button-component",19),e.NdJ("eventEmiter",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.validarCorreo())}),e.qZA()()()()()}if(2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("requerido",!0)("placeHolderActive",!1)("model",t.objectUpdate.user)}}function Y(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",16)(3,"div",20),e._uU(4," A su correo fue enviado un mensaje, por favor valide su correo y digite el token suministrado. "),e.qZA(),e.TgZ(5,"div",1)(6,"input-text",21),e.NdJ("modelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.objectUpdate.token=o)}),e.qZA()()(),e.TgZ(7,"div",0)(8,"div",18)(9,"app-button-component",22),e.NdJ("eventEmiter",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.validarToken())}),e.qZA()()()()()}if(2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("requerido",!0)("placeHolderActive",!1)("model",t.objectUpdate.token)}}function B(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",16)(3,"div",1)(4,"h5"),e._uU(5,"Actualizar contrase\xf1a."),e.qZA()(),e.TgZ(6,"div",1)(7,"app-input-pass",23),e.NdJ("modelNewChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.objectUpdate.newPassword=o)})("modelConfirmChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.objectUpdate.newPasswordConfirm=o)}),e.qZA()(),e.TgZ(8,"div",1)(9,"div",24)(10,"re-captcha",25),e.NdJ("errored",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.expireCaptchat(o))})("resolved",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.acceptedCaptcha(o))}),e.qZA()()()(),e.TgZ(11,"div",0)(12,"div",18)(13,"app-button-component",26),e.NdJ("eventEmiter",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.actualizarUsuario())}),e.qZA()()()()()}if(2&n){const t=e.oxw(2);e.xp6(7),e.Q6J("modelNew",t.objectUpdate.newPassword)("modelConfirm",t.objectUpdate.newPasswordConfirm)("feedBackNew",!0)("feedBackConfirm",!1),e.xp6(3),e.s9C("siteKey",t.siteKey)}}const z=function(){return{label:"Validar correo"}},D=function(){return{label:"Confirmar token"}},G=function(){return{label:"Actualizar contrase\xf1a"}},$=function(n,s,t){return[n,s,t]};function V(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",0)(1,"div",10),e._UZ(2,"app-steps-component",11),e.qZA()(),e.YNc(3,Q,8,3,"div",12),e.YNc(4,Y,10,3,"div",12),e.YNc(5,B,14,5,"div",12),e.TgZ(6,"div",0)(7,"div",1)(8,"div",13)(9,"div",14)(10,"app-button-component",15),e.NdJ("eventEmiter",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancelarProceso())}),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("items",e.kEZ(9,$,e.DdM(6,z),e.DdM(7,D),e.DdM(8,G)))("readonly",!0)("activeIndex",t.itemActive),e.xp6(1),e.Q6J("ngIf",0==t.itemActive),e.xp6(1),e.Q6J("ngIf",1==t.itemActive),e.xp6(1),e.Q6J("ngIf",2==t.itemActive)}}const W=[{path:"",redirectTo:"update-pass",pathMatch:"full"},{path:"update-pass",component:(()=>{class n{constructor(t,r,o,i){this.spinner=t,this.message=r,this.loginService=o,this.route=i,this.objectUpdate=new A,this.siteKey=""}ngOnInit(){this.siteKey=k.W.TOKEN_AUTHORIZATION.API_KEY,this.itemActive=0}validarCorreo(){this.spinner.show(),this.loginService.enviarCorreoToken(this.objectUpdate.user).subscribe({next:t=>{this.spinner.hide(),this.itemActive=1;let r=new d.M("success","Proceso exitoso.",t.msg);this.message.add(r)},error:t=>{this.spinner.hide();let r=new d.M("error",`${t.error.status}`,t.error.msg);this.message.add(r)}})}validarToken(){this.spinner.show(),this.loginService.validarToken(this.objectUpdate).subscribe({next:t=>{this.spinner.hide(),this.itemActive=2;let r=new d.M("success","Proceso exitoso.",t.msg);this.message.add(r)},error:t=>{this.spinner.hide();let r=new d.M("error",`${t.error.status}`,t.error.msg);this.message.add(r)}})}expireCaptchat(t){let r=new d.M("error","Token expirado ","Tiempo minimo del token a expirado.");this.message.add(r)}acceptedCaptcha(t){this.objectUpdate.captcha=t}actualizarUsuario(){this.spinner.show(),this.loginService.updatePass(this.objectUpdate).subscribe({next:t=>{this.spinner.hide();let r=new d.M("success","Proceso exitoso.",t.msg);this.message.add(r),setTimeout(()=>{this.route.navigate(["provired/access-provired/login"])},2500)},error:t=>{this.spinner.hide();let r=new d.M("error",`${t.error.status}`,t.error.msg);this.message.add(r)}})}cancelarProceso(){this.route.navigate(["provired/access-provired/login"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.t2),e.Y36(v.ez),e.Y36(h.N),e.Y36(p.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-recuperar-contrasena"]],decls:12,vars:2,consts:[[1,"grid"],[1,"col-12"],[1,"lg:col-4","md:col-4","sm:col-6","sm:col-offset-3","col-12","lg:col-offset-4","md:col-offset-4"],[1,"aling-box"],[3,"footer"],["pTemplate","header"],["pTemplate","content"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"fullScreen"],[2,"color","white"],[1,"pt-5","pl-5"],[1,"col-12","p-2"],[3,"items","readonly","activeIndex"],["class","grid",4,"ngIf"],[1,"flex","flex-column-reverse"],[1,"flex","align-items-center","justify-content-center","mt-2"],["nameButton","Cancelar","clase","p-button-danger p-button-text",3,"eventEmiter"],[1,"grid","p-4"],["placeHolder","Usuario","styleInput","help-text",3,"requerido","placeHolderActive","model","modelChange"],[1,"col-12","pr-5","pl-5"],["nameButton","Validar correo",3,"eventEmiter"],[1,"col-12","p-3","valid-text"],["placeHolder","Token","styleInput","help-text",3,"requerido","placeHolderActive","model","modelChange"],["nameButton","Validar token",3,"eventEmiter"],[3,"modelNew","modelConfirm","feedBackNew","feedBackConfirm","modelNewChange","modelConfirmChange"],[1,"flex","justify-content-center"],[3,"siteKey","errored","resolved"],["nameButton","Enviar nueva contrase\xf1a",3,"eventEmiter"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",0)(3,"div",2)(4,"div",3)(5,"app-card-component",4),e.YNc(6,q,3,0,"ng-template",5),e.YNc(7,V,11,13,"ng-template",6),e.qZA()()()()()(),e._UZ(8,"p-toast"),e.TgZ(9,"ngx-spinner",7)(10,"p",8),e._uU(11,"Loading..."),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("footer",!0),e.xp6(4),e.Q6J("fullScreen",!0))},dependencies:[l.O5,b.D,v.jx,M.w,Z.u,j,K.s,g.Ro,y.FN,x.wT],styles:[".aling-box[_ngcontent-%COMP%]{margin-top:25%}.valid-text[_ngcontent-%COMP%]{color:#1567c3}"]}),n})()}];let X=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.Bz.forChild(W),p.Bz]}),n})();var _=a(3485);let ee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez,P]}),n})();var T=a(433);let te=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[v.ez,h.N],imports:[l.ez,w.JF,T.u5,T.UX,X,_.GX,_.a6,_.aK,ee,_.zM,g.ef,y.EV,x.a,x.lQ]}),n})()}}]);