"use strict";(self.webpackChunkprovired_angular_version=self.webpackChunkprovired_angular_version||[]).push([[816],{9816:(z,m,o)=>{o.r(m),o.d(m,{UsuariosModule:()=>O});var u=o(6895),d=o(9965),g=o(3825);class C{constructor(a,n,s,i,r){this.user=a,this.tipousuario=n,this.password_actual=s,this.password_new=i,this.password_confirm=r}}var e=o(8256),_=o(3894),x=o(9721),M=o(798),p=o(334),l=o(805),w=o(4021),P=o(1747),T=o(9385),Z=o(6163);let b=(()=>{class t{constructor(){this.eventChangeMenu=new e.vpe}ngOnInit(){}activeChange(n){this.eventChangeMenu.emit(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-tab-menu-component"]],inputs:{items:"items"},outputs:{eventChangeMenu:"eventChangeMenu"},decls:1,vars:2,consts:[[3,"model","scrollable","activeItemChange"]],template:function(n,s){1&n&&(e.TgZ(0,"p-tabMenu",0),e.NdJ("activeItemChange",function(r){return s.activeChange(r)}),e.qZA()),2&n&&e.Q6J("model",s.items)("scrollable",!0)},dependencies:[Z.d]}),t})();var A=o(286),h=o(2453);function U(t,a){if(1&t&&(e.TgZ(0,"div",6)(1,"div",7)(2,"div",8),e._UZ(3,"img",9),e.qZA()(),e.TgZ(4,"div",7)(5,"div",10)(6,"div",11)(7,"div",12),e._uU(8),e.qZA()(),e.TgZ(9,"div",13)(10,"div",14),e._uU(11),e.qZA()(),e.TgZ(12,"div",13)(13,"div",15),e._uU(14),e.qZA()()()()()),2&t){const n=e.oxw();e.xp6(8),e.hij(" ",n.ses.data.nombre," "),e.xp6(3),e.hij(" ",n.ses.data.email," "),e.xp6(3),e.hij(" fecha vencimiento: ",n.ses.data.fecha_vence," ")}}function N(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",19)(1,"div",20)(2,"div",21)(3,"h4",22),e._uU(4,"Desea realizar cambio de contrase\xf1a?"),e.qZA()()(),e.TgZ(5,"div",6)(6,"div",23)(7,"input-text",24),e.NdJ("modelChange",function(i){e.CHM(n);const r=e.oxw(2);return e.KtG(r.changePass.password_actual=i)}),e.qZA()()(),e.TgZ(8,"div",20)(9,"div",23)(10,"app-input-pass",25),e.NdJ("modelNewChange",function(i){e.CHM(n);const r=e.oxw(2);return e.KtG(r.changePass.password_new=i)})("modelConfirmChange",function(i){e.CHM(n);const r=e.oxw(2);return e.KtG(r.changePass.password_confirm=i)}),e.qZA()()(),e.TgZ(11,"div",6)(12,"div",26)(13,"app-button-component",27),e.NdJ("eventEmiter",function(){e.CHM(n);const i=e.oxw(2);return e.KtG(i.updatePassword())}),e.qZA()()()()}if(2&t){const n=e.oxw(2);e.xp6(7),e.Q6J("model",n.changePass.password_actual),e.xp6(3),e.Q6J("modelNew",n.changePass.password_new)("modelConfirm",n.changePass.password_confirm)("feedBackNew",!0)("feedBackConfirm",!1)}}const y=function(){return{label:"Cambiar contrase\xf1a",icon:"pi pi-info-circle"}},J=function(t){return[t]};function j(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",6)(1,"div",16)(2,"app-tab-menu-component",17),e.NdJ("eventChangeMenu",function(i){e.CHM(n);const r=e.oxw();return e.KtG(r.changeMenu(i))}),e.qZA()()(),e.TgZ(3,"div",6),e.YNc(4,N,14,5,"div",18),e.qZA()}if(2&t){const n=e.oxw();e.xp6(2),e.Q6J("items",e.VKq(3,J,e.DdM(2,y))),e.xp6(2),e.Q6J("ngIf",n.showChangePass)}}const F=[{path:"",redirectTo:"profile",pathMatch:"full"},{path:"profile",component:(()=>{class t{constructor(n,s,i,r,S){this.breadCrumService=n,this.sesion=s,this.userService=i,this.spinner=r,this.message=S,this.showChangePass=!1,this.changePass=new C,this.siteKey=""}ngOnInit(){this.breadCrumService.setItems([{label:"Usuarios"},{label:"Perfil"}]),this.ses=this.sesion.getStorage("user","json")}changeMenu(n){"Cambiar contrase\xf1a"===n.label&&(this.showChangePass=!0)}updatePassword(){this.spinner.show(),this.changePass.tipousuario=this.ses.tipousuario,this.changePass.user=this.ses.user,this.userService.updatePass(this.changePass).subscribe({next:n=>{let s=new g.M("success","!Exito",`${n.msg}`);this.message.add(s),this.spinner.hide()},error:n=>{this.spinner.hide();let s=new g.M("error","!Upss",`${n.error.msg}`);this.message.add(s)}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(_.p),e.Y36(x.u),e.Y36(M.R),e.Y36(p.t2),e.Y36(l.ez))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-profile"]],decls:11,vars:1,consts:[[1,"grid","p-fluid"],[1,"col-3"],["pTemplate","content"],[1,"col-9"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"fullScreen"],[2,"color","white"],[1,"grid"],[1,"col-12","p-2","flex","justify-content-center","flex-wrap"],[1,"user-i"],["src","assets/images/userLogo.png","alt",""],[1,"mt-2"],[1,"user-d","flex","align-items-center","justify-content-center"],[1,"user-d--name"],[1,"user-d","flex","align-items-center","justify-content-center","mt-2"],[1,"user-d--email"],[1,"user-d--vence"],[1,"col-12","p-2"],[3,"items","eventChangeMenu"],["class","col-12 p-3",4,"ngIf"],[1,"col-12","p-3"],[1,"grid","mt-2"],[1,"col-12"],[1,"title-pass"],[1,"col-6"],["tipo","password","placeHolder","Contrase\xf1a Actual",3,"model","modelChange"],[3,"modelNew","modelConfirm","feedBackNew","feedBackConfirm","modelNewChange","modelConfirmChange"],[1,"col-6","flex","justify-content-center","flex-wrap"],["nameButton","Cambiar contrase\xf1a",3,"eventEmiter"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"app-card-component"),e.YNc(3,U,15,3,"ng-template",2),e.qZA()(),e.TgZ(4,"div",3)(5,"app-card-component"),e.YNc(6,j,5,5,"ng-template",2),e.qZA()()(),e._UZ(7,"p-toast"),e.TgZ(8,"ngx-spinner",4)(9,"p",5),e._uU(10,"Loading..."),e.qZA()()),2&n&&(e.xp6(8),e.Q6J("fullScreen",!0))},dependencies:[u.O5,w.w,P.D,l.jx,T.u,b,A.s,h.FN,p.Ro],styles:[".user-i[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:140px}.user-d--name[_ngcontent-%COMP%]{color:#1567c3;font-weight:700}.user-d--email[_ngcontent-%COMP%]{font-weight:600;overflow:hidden;width:15vw;text-overflow:ellipsis}.user-d--vence[_ngcontent-%COMP%]{font-weight:600}.title-pass[_ngcontent-%COMP%]{color:#1567c3}"]}),t})()}];let B=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.Bz.forChild(F),d.Bz]}),t})();var f=o(433),c=o(3485),v=o(4700);let O=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[l.ez],imports:[u.ez,B,f.UX,f.u5,c.a6,c.GX,c.aK,c.fA,c.zM,v.a,v.lQ,h.EV,p.ef]}),t})()}}]);