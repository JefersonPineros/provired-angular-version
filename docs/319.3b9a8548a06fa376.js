"use strict";(self.webpackChunkprovired_angular_version=self.webpackChunkprovired_angular_version||[]).push([[319],{1747:(O,f,o)=>{o.d(f,{D:()=>T});var i=o(805),l=o(8256),d=o(6895),u=o(4247);function v(a,p){}function M(a,p){if(1&a&&l.YNc(0,v,0,0,"ng-template",3),2&a){const s=l.oxw();l.Q6J("ngTemplateOutlet",s.titulo)}}function C(a,p){}function L(a,p){1&a&&l._UZ(0,"div")}function e(a,p){}function x(a,p){if(1&a&&(l.YNc(0,L,1,0,"div",5),l.YNc(1,e,0,0,"ng-template",3)),2&a){const s=l.oxw();l.Q6J("ngIf",s.footer),l.xp6(1),l.Q6J("ngTemplateOutlet",s.pie)}}let T=(()=>{class a{constructor(){this.footer=!1}ngOnInit(){}ngAfterContentInit(){this.plantillas?.forEach(s=>{switch(s.getType()){case"header":this.titulo=s.template;break;case"content":this.contenido=s.template;break;case"footer":this.pie=s.template}})}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=l.Xpm({type:a,selectors:[["app-card-component"]],contentQueries:function(s,g,h){if(1&s&&l.Suo(h,i.jx,4),2&s){let _;l.iGM(_=l.CRH())&&(g.plantillas=_)}},inputs:{footer:"footer"},decls:6,vars:1,consts:[["pTemplate","header"],[1,"grid","p-fluid"],[1,"col-12"],[3,"ngTemplateOutlet"],["pTemplate","footer"],[4,"ngIf"]],template:function(s,g){1&s&&(l.TgZ(0,"p-card"),l.YNc(1,M,1,1,"ng-template",0),l.TgZ(2,"div",1)(3,"div",2),l.YNc(4,C,0,0,"ng-template",3),l.qZA()(),l.YNc(5,x,2,2,"ng-template",4),l.qZA()),2&s&&(l.xp6(4),l.Q6J("ngTemplateOutlet",g.contenido))},dependencies:[d.O5,d.tP,i.jx,u.Z]}),a})()},8341:(O,f,o)=>{o.d(f,{N:()=>T});var i=o(8256),l=o(805),d=o(6895),u=o(1493);function v(a,p){}function M(a,p){if(1&a&&i.YNc(0,v,0,0,"ng-template",4),2&a){const s=i.oxw();i.Q6J("ngTemplateOutlet",s.title)}}function C(a,p){}function L(a,p){}function e(a,p){if(1&a&&(i.TgZ(0,"div",6),i.YNc(1,L,0,0,"ng-template",4),i.qZA()),2&a){const s=i.oxw();i.xp6(1),i.Q6J("ngTemplateOutlet",s.footer)}}const x=function(a){return{width:a}};let T=(()=>{class a{constructor(){this.visible=!1,this.closeModal=new i.vpe,this.tamanio="50vw",this.maximizable=!1}ngAfterContentInit(){this.plantillas?.forEach(s=>{switch(s.getType()){case"title":this.title=s.template;break;case"content":this.content=s.template;break;case"footer":this.footer=s.template}})}changeVisible(){this.closeModal.emit()}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=i.Xpm({type:a,selectors:[["modal-component"]],contentQueries:function(s,g,h){if(1&s&&i.Suo(h,l.jx,4),2&s){let _;i.iGM(_=i.CRH())&&(g.plantillas=_)}},inputs:{visible:"visible",tamanio:"tamanio",maximizable:"maximizable"},outputs:{closeModal:"closeModal"},decls:6,vars:8,consts:[["header","Header",3,"visible","modal","maximizable","visibleChange"],["pTemplate","header"],[1,"grid","p-fluit"],[1,"col-12"],[3,"ngTemplateOutlet"],["pTemplate","footer"],[1,"mt-2"]],template:function(s,g){1&s&&(i.TgZ(0,"p-dialog",0),i.NdJ("visibleChange",function(_){return g.visible=_})("visibleChange",function(){return g.changeVisible()}),i.YNc(1,M,1,1,"ng-template",1),i.TgZ(2,"div",2)(3,"div",3),i.YNc(4,C,0,0,"ng-template",4),i.qZA()(),i.YNc(5,e,2,1,"ng-template",5),i.qZA()),2&s&&(i.Akn(i.VKq(6,x,g.tamanio)),i.Q6J("visible",g.visible)("modal",!0)("maximizable",g.maximizable),i.xp6(4),i.Q6J("ngTemplateOutlet",g.content))},dependencies:[d.tP,u.V,l.jx]}),a})()},3825:(O,f,o)=>{o.d(f,{M:()=>i});class i{constructor(d,u,v){this.severity=d,this.summary=u,this.detail=v}}},2319:(O,f,o)=>{o.r(f),o.d(f,{LoginModule:()=>Q});var i=o(529),l=o(6895),d=o(9965),u=o(433);class v{constructor(m,t){this.msg=m,this.status=t}}class M{constructor(m,t){this.user=m,this.password=t}}var C=o(805),L=o(3825),e=o(8256),x=o(8262),T=o(334),a=o(9721),p=o(2340),s=o(6695),g=o(5267);let h=(()=>{class n{constructor(t){this.http=t}aceptarTerminos(t){let r=(new s.q).generateModel(g.N.CONTROLLERS_METHODS[15].controller,g.N.CONTROLLERS_METHODS[15].method,t);return this.http.post(p.N.apiBaseUrl+"index",r)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(i.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var _=o(1747),N=o(4021),b=o(9385),Z=o(2453),y=o(8341);function Y(n,m){1&n&&(e.TgZ(0,"div",15)(1,"h2"),e._uU(2,"Bienvenido a provired"),e.qZA()())}function I(n,m){1&n&&(e.TgZ(0,"div",1)(1,"span"),e._uU(2,"Debe aceptar terminos y condiciones para poder acceder.*"),e.qZA()())}function J(n,m){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"div",1)(2,"input-text",17),e.NdJ("modelChange",function(r){e.CHM(t);const E=e.oxw();return e.KtG(E.loginModel.user=r)})("grupo",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.formLogin)}),e.qZA(),e.TgZ(3,"input-text",18),e.NdJ("modelChange",function(r){e.CHM(t);const E=e.oxw();return e.KtG(E.loginModel.password=r)})("grupo",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.formLogin)}),e.qZA()(),e.YNc(4,I,3,0,"div",19),e.qZA(),e.TgZ(5,"div",0)(6,"div",1)(7,"app-button-component",20),e.NdJ("eventEmiter",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.olvidoContrasena())}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("model",t.loginModel.user)("requerido",!0)("placeHolderActive",!1),e.xp6(1),e.Q6J("model",t.loginModel.password)("requerido",!0)("placeHolderActive",!1),e.xp6(1),e.Q6J("ngIf",t.aceptarTerminos)}}function U(n,m){if(1&n){const t=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",21)(3,"app-button-component",22),e.NdJ("eventEmiter",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.login())}),e.qZA()()()()}}function H(n,m){1&n&&(e.TgZ(0,"h3"),e._uU(1,"Terminos y condiciones"),e.qZA())}function P(n,m){if(1&n&&(e.TgZ(0,"textarea",23),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.messageTerminos)}}function w(n,m){if(1&n){const t=e.EpF();e.TgZ(0,"app-button-component",24),e.NdJ("eventEmiter",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.actionAcept())}),e.qZA()}}const D=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{class n{constructor(t,c,r,E,z,G){this.accessLogin=t,this.route=c,this.spinner=r,this.message=E,this.session=z,this.terminos=G,this.formLogin=new u.cw({}),this.loginModel=new M,this.error_login=new v,this.showModalTerminos=!1,this.messageTerminos="",this.aceptarTerminos=!1}ngOnInit(){this.session.clearAllSession()}login(){this.spinner.show(),this.accessLogin.login(this.loginModel).subscribe({next:t=>{this.spinner.hide(),"S"!==t.tipousuario||t.terminos_ok?setTimeout(()=>{this.route.navigate(["provired/home-provired"])},500):(this.aceptarTerminos=!0,this.showModalTerminos=!0,this.messageTerminos=t.msg,this.session.clearAllSession())},error:t=>{if(t instanceof i.UA){console.log(t),this.spinner.hide();let c=new L.M("error",`${t.error.status}`,t.error.msg);this.message.add(c)}}})}actionAcept(){this.spinner.show(),this.terminos.aceptarTerminos(this.loginModel.user).subscribe({next:t=>{200==t.status&&(this.spinner.hide(),this.showModalTerminos=!1,this.aceptarTerminos=!1,this.login())},error:t=>{console.log(t),this.spinner.hide()}})}olvidoContrasena(){this.route.navigate(["provired/recuperar-contrasena/update-pass"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(x.N),e.Y36(d.F0),e.Y36(T.t2),e.Y36(C.ez),e.Y36(a.u),e.Y36(h))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],features:[e._Bn([C.ez])],decls:20,vars:3,consts:[[1,"grid"],[1,"col-12"],[1,"lg:col-4","md:col-4","sm:col-6","sm:col-offset-3","col-12","lg:col-offset-4","md:col-offset-4"],[1,"relative"],[1,"static","mt-5"],[1,"absolute","botton","right-0","img-logo"],[1,"aling-box"],[3,"footer"],["pTemplate","header"],["pTemplate","content"],["pTemplate","footer"],[3,"visible","closeModal"],["pTemplate","title"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"fullScreen"],[2,"color","white"],[1,"pt-5","pl-5"],[1,"grid","p-4"],["placeHolder","Usuario","styleInput","help-text",3,"model","requerido","placeHolderActive","modelChange","grupo"],["placeHolder","Contrase\xf1a","styleInput","help-text","tipo","password",3,"model","requerido","placeHolderActive","modelChange","grupo"],["class","col-12",4,"ngIf"],["nameButton","Olvid\xe9 mi contrase\xf1a!","clase","p-button-link",3,"eventEmiter"],[1,"flex","justify-content-center"],["nameButton","Ingresar","type","button",3,"eventEmiter"],["disabled","","id","","rows","60",2,"width","100%","max-height","480px"],["nameButton","Aceptar terminos y condiciones",3,"eventEmiter"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",0)(3,"div",2)(4,"div",3)(5,"div",4),e._UZ(6,"div",5),e.qZA()(),e.TgZ(7,"div",6)(8,"app-card-component",7),e.YNc(9,Y,3,0,"ng-template",8),e.YNc(10,J,8,7,"ng-template",9),e.YNc(11,U,4,0,"ng-template",10),e.qZA()()()()()(),e.TgZ(12,"modal-component",11),e.NdJ("closeModal",function(){return c.showModalTerminos=!1}),e.YNc(13,H,2,0,"ng-template",12),e.YNc(14,P,2,1,"ng-template",9),e.YNc(15,w,1,0,"ng-template",10),e.qZA(),e._UZ(16,"p-toast"),e.TgZ(17,"ngx-spinner",13)(18,"p",14),e._uU(19,"Loading..."),e.qZA()()),2&t&&(e.xp6(8),e.Q6J("footer",!0),e.xp6(4),e.Q6J("visible",c.showModalTerminos),e.xp6(5),e.Q6J("fullScreen",!0))},dependencies:[l.O5,_.D,C.jx,N.w,b.u,T.Ro,Z.FN,y.N],styles:[".aling-box[_ngcontent-%COMP%]{margin-top:25%}.img-logo[_ngcontent-%COMP%]{margin-top:8%;width:130px;height:130px;background-image:url(logo_provired.4695ebc2a64c95c4.png);background-size:cover;background-repeat:no-repeat}span[_ngcontent-%COMP%]{color:#da2f2f;font-size:13px}"]}),n})()}];let S=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild(D),d.Bz]}),n})();var A=o(6031),B=o(9300),R=o(4004),K=o(3752);let F=(()=>{class n{constructor(t){this.storage=t}intercept(t,c){return"POST"==t.method?c.handle(this.setHeader(t)).pipe((0,B.h)(r=>r instanceof i.Zn),(0,R.U)(r=>(this.storage.setSession(r.body),r.clone()))):c.handle(this.addToken(t))}addToken(t){return t.clone({setHeaders:{Authorization:`Bearer ${K.W.TOKEN_AUTHORIZATION.TOKEN}`}})}setHeader(t){return t.url==p.N.apiBaseUrl+"login"?t.clone({setHeaders:{Accept:"*/*","Content-Type":"text/plain;charset-UTF-8"}}):t}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(a.u))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[x.N,h,{provide:i.TP,useClass:F,multi:!0}],imports:[l.ez,S,u.u5,u.UX,i.JF,A.GX,A.a6,A.aK,T.ef,Z.EV,A.kt]}),n})()}}]);